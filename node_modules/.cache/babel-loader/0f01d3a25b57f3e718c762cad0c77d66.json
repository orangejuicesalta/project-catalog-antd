{"ast":null,"code":"import _regeneratorRuntime from \"/home/orange/Desktop/project-catalog-antd/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _createForOfIteratorHelper from \"/home/orange/Desktop/project-catalog-antd/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _asyncToGenerator from \"/home/orange/Desktop/project-catalog-antd/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.array.index-of.js\";\nimport \"core-js/modules/es.object.define-property.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport { ref, reactive, onMounted } from \"vue\";\nimport { useStore } from \"../stores/mainStore\";\nexport default {\n  __name: 'antdSelect',\n  setup: function setup(__props, _ref) {\n    var expose = _ref.expose;\n    expose();\n    var options = ref([{\n      value: \"\",\n      label: \"\"\n    }]);\n\n    var filterOption = function filterOption(input, option) {\n      return option.label.toLowerCase().indexOf(input.toLowerCase()) >= 0;\n    };\n\n    var store = useStore();\n    var warehouses = ref([]);\n\n    function getWarehouses() {\n      return _getWarehouses.apply(this, arguments);\n    }\n\n    function _getWarehouses() {\n      _getWarehouses = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var res, data, _iterator, _step, item;\n\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return fetch(\"http://10.10.1.74:80/api/v1/handbook/warehouses/list\", {\n                  headers: store.headers\n                });\n\n              case 2:\n                res = _context.sent;\n                _context.next = 5;\n                return res.json();\n\n              case 5:\n                data = _context.sent;\n                _context.next = 8;\n                return data;\n\n              case 8:\n                warehouses.value = _context.sent;\n                console.log(warehouses.value);\n                _iterator = _createForOfIteratorHelper(warehouses.value);\n\n                try {\n                  for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                    item = _step.value;\n                    options.value.push({\n                      value: item.id,\n                      label: item.name\n                    });\n                  }\n                } catch (err) {\n                  _iterator.e(err);\n                } finally {\n                  _iterator.f();\n                }\n\n              case 12:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n      return _getWarehouses.apply(this, arguments);\n    }\n\n    onMounted(function () {\n      getWarehouses();\n    });\n    var __returned__ = {\n      options: options,\n      filterOption: filterOption,\n      store: store,\n      warehouses: warehouses,\n      getWarehouses: getWarehouses,\n      ref: ref,\n      reactive: reactive,\n      onMounted: onMounted,\n      useStore: useStore\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"mappings":";;;;;;;AAUA,SAASA,GAAT,EAAcC,QAAd,EAAwBC,SAAxB,QAAyC,KAAzC;AACA,SAASC,QAAT,QAAyB,qBAAzB;;;;;;IACA,IAAIC,OAAO,GAAGJ,GAAG,CAAC,CAChB;MACEK,KAAK,EAAE,EADT;MAEEC,KAAK,EAAE;IAFT,CADgB,CAAD,CAAjB;;IAMA,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAACC,KAAD,EAAQC,MAAR,EAAmB;MACtC,OAAOA,MAAM,CAACH,KAAP,CAAaI,WAAb,GAA2BC,OAA3B,CAAmCH,KAAK,CAACE,WAAN,EAAnC,KAA2D,CAAlE;IACD,CAFD;;IAIA,IAAME,KAAK,GAAGT,QAAQ,EAAtB;IACA,IAAIU,UAAU,GAAGb,GAAG,CAAC,EAAD,CAApB;;aAEec;;;;;kFAAf;QAAA;;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACoBC,KAAK,CAAC,sDAAD,EAAyD;kBAC9EC,OAAO,EAAEJ,KAAK,CAACI;gBAD+D,CAAzD,CADzB;;cAAA;gBACQC,GADR;gBAAA;gBAAA,OAKqBA,GAAG,CAACC,IAAJ,EALrB;;cAAA;gBAKQC,IALR;gBAAA;gBAAA,OAM2BA,IAN3B;;cAAA;gBAMEN,UAAU,CAACR,KANb;gBAOEe,OAAO,CAACC,GAAR,CAAYR,UAAU,CAACR,KAAvB;gBAPF,uCASmBQ,UAAU,CAACR,KAT9B;;gBAAA;kBASE,oDAAmC;oBAA1BiB,IAA0B;oBACjClB,OAAO,CAACC,KAAR,CAAckB,IAAd,CAAmB;sBAAElB,KAAK,EAAEiB,IAAI,CAACE,EAAd;sBAAkBlB,KAAK,EAAEgB,IAAI,CAACG;oBAA9B,CAAnB;kBACD;gBAXH;kBAAA;gBAAA;kBAAA;gBAAA;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;;;;IAaAvB,SAAS,CAAC,YAAM;MACdY,aAAa;IACd,CAFQ,CAAT","names":["ref","reactive","onMounted","useStore","options","value","label","filterOption","input","option","toLowerCase","indexOf","store","warehouses","getWarehouses","fetch","headers","res","json","data","console","log","item","push","id","name"],"sources":["/home/orange/Desktop/project-catalog-antd/src/components/antdSelect.vue"],"sourcesContent":["<template>\n  <a-select\n    v-model:value=\"store.transfer.receiver_id\"\n    show-search\n    placeholder=\"Введите или выберите склад\"\n    :options=\"options\"\n    :filter-option=\"filterOption\"\n  ></a-select>\n</template>\n<script setup>\nimport { ref, reactive, onMounted } from \"vue\";\nimport { useStore } from \"../stores/mainStore\";\nlet options = ref([\n  {\n    value: \"\",\n    label: \"\",\n  },\n]);\nconst filterOption = (input, option) => {\n  return option.label.toLowerCase().indexOf(input.toLowerCase()) >= 0;\n};\n\nconst store = useStore();\nlet warehouses = ref([]);\n\nasync function getWarehouses() {\n  const res = await fetch(\"http://10.10.1.74:80/api/v1/handbook/warehouses/list\", {\n    headers: store.headers,\n  });\n\n  const data = await res.json();\n  warehouses.value = await data;\n  console.log(warehouses.value);\n\n  for (let item of warehouses.value) {\n    options.value.push({ value: item.id, label: item.name });\n  }\n}\nonMounted(() => {\n  getWarehouses();\n});\n</script>\n\n<style>\n.ant-select:not(.ant-select-customize-input) .ant-select-selector {\n  height: 60px !important;\n  color: black !important;\n  border-radius: 10px;\n  padding: 20px;\n  background-color: white;\n  border: solid 1px #c4c4c4;\n  box-shadow: 0px 1px 4px rgba(219, 219, 219, 0.3);\n}\n.ant-select-selection-search-input {\n  font-weight: 400;\n  font-size: medium;  \n}\n\n</style>\n"]},"metadata":{},"sourceType":"module"}