{"ast":null,"code":"import _regeneratorRuntime from \"/home/orange/Desktop/project-catalog-antd/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/home/orange/Desktop/project-catalog-antd/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.object.define-property.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport { useStore } from \"@/stores/mainStore\";\nimport { productsStore } from \"@/stores/productsStore\";\nimport { ref } from \"vue\";\nexport default {\n  __name: 'ModalSearch',\n  setup: function setup(__props, _ref) {\n    var expose = _ref.expose;\n    expose();\n    var store = useStore();\n    var productStore = productsStore();\n    var text = ref(\"\");\n\n    function searchProduct() {\n      return _searchProduct.apply(this, arguments);\n    }\n\n    function _searchProduct() {\n      _searchProduct = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var res, data;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!text) {\n                  _context.next = 11;\n                  break;\n                }\n\n                _context.next = 3;\n                return fetch(\"http://10.10.1.74:80/api/v1/catalog/search/categories-product?search=\".concat(text), {\n                  headers: store.headers\n                });\n\n              case 3:\n                res = _context.sent;\n                _context.next = 6;\n                return res.json();\n\n              case 6:\n                data = _context.sent;\n                _context.next = 9;\n                return data;\n\n              case 9:\n                productStore.products.value = _context.sent;\n                console.log(productStore.products.value);\n\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n      return _searchProduct.apply(this, arguments);\n    }\n\n    var __returned__ = {\n      store: store,\n      productStore: productStore,\n      text: text,\n      searchProduct: searchProduct,\n      useStore: useStore,\n      productsStore: productsStore,\n      ref: ref\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"mappings":";;;;AACA,SAASA,QAAT,QAAyB,oBAAzB;AACA,SAASC,aAAT,QAA8B,wBAA9B;AACA,SAASC,GAAT,QAAoB,KAApB;;;;;;IAEA,IAAMC,KAAK,GAAGH,QAAQ,EAAtB;IACA,IAAMI,YAAY,GAAGH,aAAa,EAAlC;IAEA,IAAII,IAAI,GAAGH,GAAG,CAAC,EAAD,CAAd;;aACeI;;;;;kFAAf;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA,KACMD,IADN;kBAAA;kBAAA;gBAAA;;gBAAA;gBAAA,OAEsBE,KAAK,gFACmDF,IADnD,GAErB;kBACEG,OAAO,EAAEL,KAAK,CAACK;gBADjB,CAFqB,CAF3B;;cAAA;gBAEUC,GAFV;gBAAA;gBAAA,OAQuBA,GAAG,CAACC,IAAJ,EARvB;;cAAA;gBAQUC,IARV;gBAAA;gBAAA,OASwCA,IATxC;;cAAA;gBASIP,YAAY,CAACQ,QAAb,CAAsBC,KAT1B;gBAUIC,OAAO,CAACC,GAAR,CAAYX,YAAY,CAACQ,QAAb,CAAsBC,KAAlC;;cAVJ;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA","names":["useStore","productsStore","ref","store","productStore","text","searchProduct","fetch","headers","res","json","data","products","value","console","log"],"sources":["/home/orange/Desktop/project-catalog-antd/src/components/ModalSearch.vue"],"sourcesContent":["<script setup>\nimport { useStore } from \"@/stores/mainStore\";\nimport { productsStore } from \"@/stores/productsStore\";\nimport { ref } from \"vue\";\n\nconst store = useStore();\nconst productStore = productsStore();\n\nlet text = ref(\"\");\nasync function searchProduct() {\n  if (text) {\n    const res = await fetch(\n      `http://10.10.1.74:80/api/v1/catalog/search/categories-product?search=${text}`,\n      {\n        headers: store.headers,\n      }\n    );\n    const data = await res.json();\n    productStore.products.value = await data;\n    console.log(productStore.products.value)\n  }\n}\n</script>\n<template>\n  <input\n    type=\"text\"\n    placeholder=\"Введите или выберите товар...\"\n    v-model=\"productStore\"\n    @keypress.enter=\"searchProduct\"\n  />\n</template>\n\n<style lang=\"scss\" scoped>\ninput {\n  width: 100%;\n  height: 60px;\n  margin-bottom: 50px;\n  background-color: white;\n  padding: 20px;\n  border-radius: 10px;\n  border: 1px solid #f0f0f0;\n  font-size: medium;\n  font-weight: 400;\n  box-shadow: 0px 0px 30px rgba(2, 154, 173, 0.15);\n}\ninput:focus {\n  outline: none;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}