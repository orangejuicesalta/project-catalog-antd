{"ast":null,"code":"import _regeneratorRuntime from \"/home/orange/Desktop/project-catalog-antd/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/home/orange/Desktop/project-catalog-antd/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.object.define-property.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport { productsStore } from \"@/stores/productsStore\";\nimport { onMounted, ref, watch } from \"vue\";\nimport { useStore } from \"../stores/mainStore\";\nexport default {\n  __name: 'Catalog',\n  setup: function setup(__props, _ref) {\n    var expose = _ref.expose;\n    expose();\n    var store = useStore();\n    var productStore = productsStore();\n    var checkedKeys = ref([]);\n    var fieldNames = {\n      title: \"name\",\n      key: \"id\"\n    };\n    var treeData = ref([]);\n\n    function getCatalog() {\n      return _getCatalog.apply(this, arguments);\n    }\n\n    function _getCatalog() {\n      _getCatalog = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var res, data;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return fetch(\"http://10.10.1.74:80/api/v1/catalog/categories\", {\n                  headers: store.headers\n                });\n\n              case 2:\n                res = _context.sent;\n                _context.next = 5;\n                return res.json();\n\n              case 5:\n                data = _context.sent;\n                _context.next = 8;\n                return data;\n\n              case 8:\n                treeData.value = _context.sent;\n\n              case 9:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n      return _getCatalog.apply(this, arguments);\n    }\n\n    onMounted(function () {\n      return getCatalog();\n    });\n    watch(checkedKeys, function () {\n      console.log(checkedKeys);\n      productStore.checkedProduct = checkedKeys._rawValue;\n    });\n    var __returned__ = {\n      store: store,\n      productStore: productStore,\n      checkedKeys: checkedKeys,\n      fieldNames: fieldNames,\n      treeData: treeData,\n      getCatalog: getCatalog,\n      productsStore: productsStore,\n      onMounted: onMounted,\n      ref: ref,\n      watch: watch,\n      useStore: useStore\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"mappings":";;;;AAeA,SAASA,aAAT,QAA8B,wBAA9B;AACA,SAASC,SAAT,EAAoBC,GAApB,EAAyBC,KAAzB,QAAsC,KAAtC;AACA,SAASC,QAAT,QAAyB,qBAAzB;;;;;;IAEA,IAAMC,KAAK,GAAGD,QAAQ,EAAtB;IACA,IAAME,YAAY,GAAGN,aAAa,EAAlC;IACA,IAAMO,WAAW,GAAGL,GAAG,CAAC,EAAD,CAAvB;IACA,IAAMM,UAAU,GAAG;MACjBC,KAAK,EAAE,MADU;MAEjBC,GAAG,EAAE;IAFY,CAAnB;IAIA,IAAIC,QAAQ,GAAGT,GAAG,CAAC,EAAD,CAAlB;;aAEeU;;;;;+EAAf;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACoBC,KAAK,CAAC,gDAAD,EAAmD;kBACxEC,OAAO,EAAET,KAAK,CAACS;gBADyD,CAAnD,CADzB;;cAAA;gBACQC,GADR;gBAAA;gBAAA,OAKqBA,GAAG,CAACC,IAAJ,EALrB;;cAAA;gBAKQC,IALR;gBAAA;gBAAA,OAMyBA,IANzB;;cAAA;gBAMEN,QAAQ,CAACO,KANX;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;;;;IASAjB,SAAS,CAAC;MAAA,OAAMW,UAAU,EAAhB;IAAA,CAAD,CAAT;IAEAT,KAAK,CAACI,WAAD,EAAc,YAAM;MACvBY,OAAO,CAACC,GAAR,CAAYb,WAAZ;MACAD,YAAY,CAACe,cAAb,GAA8Bd,WAAW,CAACe,SAA1C;IAED,CAJI,CAAL","names":["productsStore","onMounted","ref","watch","useStore","store","productStore","checkedKeys","fieldNames","title","key","treeData","getCatalog","fetch","headers","res","json","data","value","console","log","checkedProduct","_rawValue"],"sources":["/home/orange/Desktop/project-catalog-antd/src/components/Catalog.vue"],"sourcesContent":["<template>\n  <a-tree\n    v-model:checkedKeys=\"checkedKeys\"\n    checkable\n    :height=\"620\"\n    :tree-data=\"treeData\"\n    :field-names=\"fieldNames\"\n  >\n    <template #title=\"{ name }\">\n      <span>{{ name }}</span>\n    </template>\n  </a-tree>\n</template>\n\n<script setup>\nimport { productsStore } from \"@/stores/productsStore\";\nimport { onMounted, ref, watch } from \"vue\";\nimport { useStore } from \"../stores/mainStore\";\n\nconst store = useStore();\nconst productStore = productsStore();\nconst checkedKeys = ref([]);\nconst fieldNames = {\n  title: \"name\",\n  key: \"id\",\n};\nlet treeData = ref([]);\n\nasync function getCatalog() {\n  const res = await fetch(\"http://10.10.1.74:80/api/v1/catalog/categories\", {\n    headers: store.headers,\n  });\n\n  const data = await res.json();\n  treeData.value = await data;\n}\n\nonMounted(() => getCatalog());\n\nwatch(checkedKeys, () => {\n  console.log(checkedKeys)\n  productStore.checkedProduct = checkedKeys._rawValue;\n\n});\n</script>\n\n<style>\n.ant-tree-treenode .ant-tree-treenode-switcher-open .ant-tree-treenode-checkbox-indeterminate {\n  padd\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}