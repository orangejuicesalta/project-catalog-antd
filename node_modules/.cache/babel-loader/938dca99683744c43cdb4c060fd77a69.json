{"ast":null,"code":"import \"core-js/modules/es.array.index-of.js\";\nimport \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport { Fragment as _Fragment, createVNode as _createVNode } from \"vue\";\nimport { defineComponent, computed, ref, watch } from 'vue';\nimport classNames from '../_util/classNames';\nimport ListItem from './ListItem';\nimport Pagination from '../pagination';\nimport PropTypes from '../_util/vue-types';\nexport var transferListBodyProps = {\n  prefixCls: String,\n  filteredRenderItems: PropTypes.array.def([]),\n  selectedKeys: PropTypes.array,\n  disabled: {\n    type: Boolean,\n    \"default\": undefined\n  },\n  showRemove: {\n    type: Boolean,\n    \"default\": undefined\n  },\n  pagination: PropTypes.any,\n  onItemSelect: Function,\n  onScroll: Function,\n  onItemRemove: Function\n};\n\nfunction parsePagination(pagination) {\n  if (!pagination) {\n    return null;\n  }\n\n  var defaultPagination = {\n    pageSize: 10\n  };\n\n  if (_typeof(pagination) === 'object') {\n    return _extends(_extends({}, defaultPagination), pagination);\n  }\n\n  return defaultPagination;\n}\n\nvar ListBody = defineComponent({\n  name: 'ListBody',\n  inheritAttrs: false,\n  props: transferListBodyProps,\n  emits: ['itemSelect', 'itemRemove', 'scroll'],\n  setup: function setup(props, _ref) {\n    var emit = _ref.emit,\n        expose = _ref.expose;\n    var current = ref(1);\n\n    var handleItemSelect = function handleItemSelect(item) {\n      var selectedKeys = props.selectedKeys;\n      var checked = selectedKeys.indexOf(item.key) >= 0;\n      emit('itemSelect', item.key, !checked);\n    };\n\n    var handleItemRemove = function handleItemRemove(item) {\n      emit('itemRemove', item.key);\n    };\n\n    var handleScroll = function handleScroll(e) {\n      emit('scroll', e);\n    };\n\n    var mergedPagination = computed(function () {\n      return parsePagination(props.pagination);\n    });\n    watch([mergedPagination, function () {\n      return props.filteredRenderItems;\n    }], function () {\n      if (mergedPagination.value) {\n        // Calculate the page number\n        var maxPageCount = Math.ceil(props.filteredRenderItems.length / mergedPagination.value.pageSize);\n\n        if (current.value > maxPageCount) {\n          current.value = maxPageCount;\n        }\n      }\n    }, {\n      immediate: true\n    });\n    var items = computed(function () {\n      var filteredRenderItems = props.filteredRenderItems;\n      var displayItems = filteredRenderItems;\n\n      if (mergedPagination.value) {\n        displayItems = filteredRenderItems.slice((current.value - 1) * mergedPagination.value.pageSize, current.value * mergedPagination.value.pageSize);\n      }\n\n      return displayItems;\n    });\n\n    var onPageChange = function onPageChange(cur) {\n      current.value = cur;\n    };\n\n    expose({\n      items: items\n    });\n    return function () {\n      var prefixCls = props.prefixCls,\n          filteredRenderItems = props.filteredRenderItems,\n          selectedKeys = props.selectedKeys,\n          globalDisabled = props.disabled,\n          showRemove = props.showRemove;\n      var paginationNode = null;\n\n      if (mergedPagination.value) {\n        paginationNode = _createVNode(Pagination, {\n          \"simple\": true,\n          \"size\": \"small\",\n          \"disabled\": globalDisabled,\n          \"class\": \"\".concat(prefixCls, \"-pagination\"),\n          \"total\": filteredRenderItems.length,\n          \"pageSize\": mergedPagination.value.pageSize,\n          \"current\": current.value,\n          \"onChange\": onPageChange\n        }, null);\n      }\n\n      var itemsList = items.value.map(function (_ref2) {\n        var renderedEl = _ref2.renderedEl,\n            renderedText = _ref2.renderedText,\n            item = _ref2.item;\n        var disabled = item.disabled;\n        var checked = selectedKeys.indexOf(item.key) >= 0;\n        return _createVNode(ListItem, {\n          \"disabled\": globalDisabled || disabled,\n          \"key\": item.key,\n          \"item\": item,\n          \"renderedText\": renderedText,\n          \"renderedEl\": renderedEl,\n          \"checked\": checked,\n          \"prefixCls\": prefixCls,\n          \"onClick\": handleItemSelect,\n          \"onRemove\": handleItemRemove,\n          \"showRemove\": showRemove\n        }, null);\n      });\n      return _createVNode(_Fragment, null, [_createVNode(\"ul\", {\n        \"class\": classNames(\"\".concat(prefixCls, \"-content\"), _defineProperty({}, \"\".concat(prefixCls, \"-content-show-remove\"), showRemove)),\n        \"onScroll\": handleScroll\n      }, [itemsList]), paginationNode]);\n    };\n  }\n});\nexport default ListBody;","map":{"version":3,"names":["_defineProperty","_extends","_typeof","Fragment","_Fragment","createVNode","_createVNode","defineComponent","computed","ref","watch","classNames","ListItem","Pagination","PropTypes","transferListBodyProps","prefixCls","String","filteredRenderItems","array","def","selectedKeys","disabled","type","Boolean","undefined","showRemove","pagination","any","onItemSelect","Function","onScroll","onItemRemove","parsePagination","defaultPagination","pageSize","ListBody","name","inheritAttrs","props","emits","setup","_ref","emit","expose","current","handleItemSelect","item","checked","indexOf","key","handleItemRemove","handleScroll","e","mergedPagination","value","maxPageCount","Math","ceil","length","immediate","items","displayItems","slice","onPageChange","cur","globalDisabled","paginationNode","concat","itemsList","map","_ref2","renderedEl","renderedText"],"sources":["/home/orange/Desktop/project-catalog-antd/node_modules/ant-design-vue/es/transfer/ListBody.js"],"sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport { Fragment as _Fragment, createVNode as _createVNode } from \"vue\";\nimport { defineComponent, computed, ref, watch } from 'vue';\nimport classNames from '../_util/classNames';\nimport ListItem from './ListItem';\nimport Pagination from '../pagination';\nimport PropTypes from '../_util/vue-types';\nexport var transferListBodyProps = {\n  prefixCls: String,\n  filteredRenderItems: PropTypes.array.def([]),\n  selectedKeys: PropTypes.array,\n  disabled: {\n    type: Boolean,\n    default: undefined\n  },\n  showRemove: {\n    type: Boolean,\n    default: undefined\n  },\n  pagination: PropTypes.any,\n  onItemSelect: Function,\n  onScroll: Function,\n  onItemRemove: Function\n};\n\nfunction parsePagination(pagination) {\n  if (!pagination) {\n    return null;\n  }\n\n  var defaultPagination = {\n    pageSize: 10\n  };\n\n  if (_typeof(pagination) === 'object') {\n    return _extends(_extends({}, defaultPagination), pagination);\n  }\n\n  return defaultPagination;\n}\n\nvar ListBody = defineComponent({\n  name: 'ListBody',\n  inheritAttrs: false,\n  props: transferListBodyProps,\n  emits: ['itemSelect', 'itemRemove', 'scroll'],\n  setup: function setup(props, _ref) {\n    var emit = _ref.emit,\n        expose = _ref.expose;\n    var current = ref(1);\n\n    var handleItemSelect = function handleItemSelect(item) {\n      var selectedKeys = props.selectedKeys;\n      var checked = selectedKeys.indexOf(item.key) >= 0;\n      emit('itemSelect', item.key, !checked);\n    };\n\n    var handleItemRemove = function handleItemRemove(item) {\n      emit('itemRemove', item.key);\n    };\n\n    var handleScroll = function handleScroll(e) {\n      emit('scroll', e);\n    };\n\n    var mergedPagination = computed(function () {\n      return parsePagination(props.pagination);\n    });\n    watch([mergedPagination, function () {\n      return props.filteredRenderItems;\n    }], function () {\n      if (mergedPagination.value) {\n        // Calculate the page number\n        var maxPageCount = Math.ceil(props.filteredRenderItems.length / mergedPagination.value.pageSize);\n\n        if (current.value > maxPageCount) {\n          current.value = maxPageCount;\n        }\n      }\n    }, {\n      immediate: true\n    });\n    var items = computed(function () {\n      var filteredRenderItems = props.filteredRenderItems;\n      var displayItems = filteredRenderItems;\n\n      if (mergedPagination.value) {\n        displayItems = filteredRenderItems.slice((current.value - 1) * mergedPagination.value.pageSize, current.value * mergedPagination.value.pageSize);\n      }\n\n      return displayItems;\n    });\n\n    var onPageChange = function onPageChange(cur) {\n      current.value = cur;\n    };\n\n    expose({\n      items: items\n    });\n    return function () {\n      var prefixCls = props.prefixCls,\n          filteredRenderItems = props.filteredRenderItems,\n          selectedKeys = props.selectedKeys,\n          globalDisabled = props.disabled,\n          showRemove = props.showRemove;\n      var paginationNode = null;\n\n      if (mergedPagination.value) {\n        paginationNode = _createVNode(Pagination, {\n          \"simple\": true,\n          \"size\": \"small\",\n          \"disabled\": globalDisabled,\n          \"class\": \"\".concat(prefixCls, \"-pagination\"),\n          \"total\": filteredRenderItems.length,\n          \"pageSize\": mergedPagination.value.pageSize,\n          \"current\": current.value,\n          \"onChange\": onPageChange\n        }, null);\n      }\n\n      var itemsList = items.value.map(function (_ref2) {\n        var renderedEl = _ref2.renderedEl,\n            renderedText = _ref2.renderedText,\n            item = _ref2.item;\n        var disabled = item.disabled;\n        var checked = selectedKeys.indexOf(item.key) >= 0;\n        return _createVNode(ListItem, {\n          \"disabled\": globalDisabled || disabled,\n          \"key\": item.key,\n          \"item\": item,\n          \"renderedText\": renderedText,\n          \"renderedEl\": renderedEl,\n          \"checked\": checked,\n          \"prefixCls\": prefixCls,\n          \"onClick\": handleItemSelect,\n          \"onRemove\": handleItemRemove,\n          \"showRemove\": showRemove\n        }, null);\n      });\n      return _createVNode(_Fragment, null, [_createVNode(\"ul\", {\n        \"class\": classNames(\"\".concat(prefixCls, \"-content\"), _defineProperty({}, \"\".concat(prefixCls, \"-content-show-remove\"), showRemove)),\n        \"onScroll\": handleScroll\n      }, [itemsList]), paginationNode]);\n    };\n  }\n});\nexport default ListBody;"],"mappings":"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"},"metadata":{},"sourceType":"module"}