{"ast":null,"code":"import \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { createVNode as _createVNode } from \"vue\";\nimport addEventListenerWrap from '../../vc-util/Dom/addEventListener';\nimport raf from '../../_util/raf';\nimport { defineComponent, onUnmounted, computed, ref, watchEffect, getCurrentInstance } from 'vue';\nimport devWarning from '../../vc-util/devWarning';\nimport { useInjectTableContext } from '../../table/context';\nimport supportsPassive from '../../_util/supportsPassive';\nvar events = {\n  mouse: {\n    start: 'mousedown',\n    move: 'mousemove',\n    stop: 'mouseup'\n  },\n  touch: {\n    start: 'touchstart',\n    move: 'touchmove',\n    stop: 'touchend'\n  }\n};\nvar defaultMinWidth = 50;\nexport default defineComponent({\n  name: 'DragHandle',\n  props: {\n    prefixCls: String,\n    width: {\n      type: Number,\n      required: true\n    },\n    minWidth: {\n      type: Number,\n      \"default\": defaultMinWidth\n    },\n    maxWidth: {\n      type: Number,\n      \"default\": Infinity\n    },\n    column: {\n      type: Object,\n      \"default\": undefined\n    }\n  },\n  setup: function setup(props) {\n    var startX = 0;\n    var moveEvent = {\n      remove: function remove() {}\n    };\n    var stopEvent = {\n      remove: function remove() {}\n    };\n\n    var removeEvents = function removeEvents() {\n      moveEvent.remove();\n      stopEvent.remove();\n    };\n\n    onUnmounted(function () {\n      removeEvents();\n    });\n    watchEffect(function () {\n      devWarning(!isNaN(props.width), 'Table', 'width must be a number when use resizable');\n    });\n\n    var _useInjectTableContex = useInjectTableContext(),\n        onResizeColumn = _useInjectTableContex.onResizeColumn;\n\n    var minWidth = computed(function () {\n      return typeof props.minWidth === 'number' && !isNaN(props.minWidth) ? props.minWidth : defaultMinWidth;\n    });\n    var maxWidth = computed(function () {\n      return typeof props.maxWidth === 'number' && !isNaN(props.maxWidth) ? props.maxWidth : Infinity;\n    });\n    var instance = getCurrentInstance();\n    var baseWidth = 0;\n    var dragging = ref(false);\n    var rafId;\n\n    var updateWidth = function updateWidth(e) {\n      var pageX = 0;\n\n      if (e.touches) {\n        if (e.touches.length) {\n          // touchmove\n          pageX = e.touches[0].pageX;\n        } else {\n          // touchend\n          pageX = e.changedTouches[0].pageX;\n        }\n      } else {\n        pageX = e.pageX;\n      }\n\n      var tmpDeltaX = startX - pageX;\n      var w = Math.max(baseWidth - tmpDeltaX, minWidth.value);\n      w = Math.min(w, maxWidth.value);\n      raf.cancel(rafId);\n      rafId = raf(function () {\n        onResizeColumn(w, props.column.__originColumn__);\n      });\n    };\n\n    var handleMove = function handleMove(e) {\n      updateWidth(e);\n    };\n\n    var handleStop = function handleStop(e) {\n      dragging.value = false;\n      updateWidth(e);\n      removeEvents();\n    };\n\n    var handleStart = function handleStart(e, eventsFor) {\n      dragging.value = true;\n      removeEvents();\n      baseWidth = instance.vnode.el.parentNode.getBoundingClientRect().width;\n\n      if (e instanceof MouseEvent && e.which !== 1) {\n        return;\n      }\n\n      if (e.stopPropagation) e.stopPropagation();\n      startX = e.touches ? e.touches[0].pageX : e.pageX;\n      moveEvent = addEventListenerWrap(document.documentElement, eventsFor.move, handleMove);\n      stopEvent = addEventListenerWrap(document.documentElement, eventsFor.stop, handleStop);\n    };\n\n    var handleDown = function handleDown(e) {\n      e.stopPropagation();\n      e.preventDefault();\n      handleStart(e, events.mouse);\n    };\n\n    var handleTouchDown = function handleTouchDown(e) {\n      e.stopPropagation();\n      e.preventDefault();\n      handleStart(e, events.touch);\n    };\n\n    var handleClick = function handleClick(e) {\n      e.stopPropagation();\n      e.preventDefault();\n    };\n\n    return function () {\n      var prefixCls = props.prefixCls;\n\n      var touchEvents = _defineProperty({}, supportsPassive ? 'onTouchstartPassive' : 'onTouchstart', function (e) {\n        return handleTouchDown(e);\n      });\n\n      return _createVNode(\"div\", _objectSpread(_objectSpread({\n        \"class\": \"\".concat(prefixCls, \"-resize-handle \").concat(dragging.value ? 'dragging' : ''),\n        \"onMousedown\": handleDown\n      }, touchEvents), {}, {\n        \"onClick\": handleClick\n      }), [_createVNode(\"div\", {\n        \"class\": \"\".concat(prefixCls, \"-resize-handle-line\")\n      }, null)]);\n    };\n  }\n});","map":{"version":3,"names":["_objectSpread","_defineProperty","createVNode","_createVNode","addEventListenerWrap","raf","defineComponent","onUnmounted","computed","ref","watchEffect","getCurrentInstance","devWarning","useInjectTableContext","supportsPassive","events","mouse","start","move","stop","touch","defaultMinWidth","name","props","prefixCls","String","width","type","Number","required","minWidth","maxWidth","Infinity","column","Object","undefined","setup","startX","moveEvent","remove","stopEvent","removeEvents","isNaN","_useInjectTableContex","onResizeColumn","instance","baseWidth","dragging","rafId","updateWidth","e","pageX","touches","length","changedTouches","tmpDeltaX","w","Math","max","value","min","cancel","__originColumn__","handleMove","handleStop","handleStart","eventsFor","vnode","el","parentNode","getBoundingClientRect","MouseEvent","which","stopPropagation","document","documentElement","handleDown","preventDefault","handleTouchDown","handleClick","touchEvents","concat"],"sources":["/home/orange/Desktop/project-catalog-antd/node_modules/ant-design-vue/es/vc-table/Header/DragHandle.js"],"sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { createVNode as _createVNode } from \"vue\";\nimport addEventListenerWrap from '../../vc-util/Dom/addEventListener';\nimport raf from '../../_util/raf';\nimport { defineComponent, onUnmounted, computed, ref, watchEffect, getCurrentInstance } from 'vue';\nimport devWarning from '../../vc-util/devWarning';\nimport { useInjectTableContext } from '../../table/context';\nimport supportsPassive from '../../_util/supportsPassive';\nvar events = {\n  mouse: {\n    start: 'mousedown',\n    move: 'mousemove',\n    stop: 'mouseup'\n  },\n  touch: {\n    start: 'touchstart',\n    move: 'touchmove',\n    stop: 'touchend'\n  }\n};\nvar defaultMinWidth = 50;\nexport default defineComponent({\n  name: 'DragHandle',\n  props: {\n    prefixCls: String,\n    width: {\n      type: Number,\n      required: true\n    },\n    minWidth: {\n      type: Number,\n      default: defaultMinWidth\n    },\n    maxWidth: {\n      type: Number,\n      default: Infinity\n    },\n    column: {\n      type: Object,\n      default: undefined\n    }\n  },\n  setup: function setup(props) {\n    var startX = 0;\n    var moveEvent = {\n      remove: function remove() {}\n    };\n    var stopEvent = {\n      remove: function remove() {}\n    };\n\n    var removeEvents = function removeEvents() {\n      moveEvent.remove();\n      stopEvent.remove();\n    };\n\n    onUnmounted(function () {\n      removeEvents();\n    });\n    watchEffect(function () {\n      devWarning(!isNaN(props.width), 'Table', 'width must be a number when use resizable');\n    });\n\n    var _useInjectTableContex = useInjectTableContext(),\n        onResizeColumn = _useInjectTableContex.onResizeColumn;\n\n    var minWidth = computed(function () {\n      return typeof props.minWidth === 'number' && !isNaN(props.minWidth) ? props.minWidth : defaultMinWidth;\n    });\n    var maxWidth = computed(function () {\n      return typeof props.maxWidth === 'number' && !isNaN(props.maxWidth) ? props.maxWidth : Infinity;\n    });\n    var instance = getCurrentInstance();\n    var baseWidth = 0;\n    var dragging = ref(false);\n    var rafId;\n\n    var updateWidth = function updateWidth(e) {\n      var pageX = 0;\n\n      if (e.touches) {\n        if (e.touches.length) {\n          // touchmove\n          pageX = e.touches[0].pageX;\n        } else {\n          // touchend\n          pageX = e.changedTouches[0].pageX;\n        }\n      } else {\n        pageX = e.pageX;\n      }\n\n      var tmpDeltaX = startX - pageX;\n      var w = Math.max(baseWidth - tmpDeltaX, minWidth.value);\n      w = Math.min(w, maxWidth.value);\n      raf.cancel(rafId);\n      rafId = raf(function () {\n        onResizeColumn(w, props.column.__originColumn__);\n      });\n    };\n\n    var handleMove = function handleMove(e) {\n      updateWidth(e);\n    };\n\n    var handleStop = function handleStop(e) {\n      dragging.value = false;\n      updateWidth(e);\n      removeEvents();\n    };\n\n    var handleStart = function handleStart(e, eventsFor) {\n      dragging.value = true;\n      removeEvents();\n      baseWidth = instance.vnode.el.parentNode.getBoundingClientRect().width;\n\n      if (e instanceof MouseEvent && e.which !== 1) {\n        return;\n      }\n\n      if (e.stopPropagation) e.stopPropagation();\n      startX = e.touches ? e.touches[0].pageX : e.pageX;\n      moveEvent = addEventListenerWrap(document.documentElement, eventsFor.move, handleMove);\n      stopEvent = addEventListenerWrap(document.documentElement, eventsFor.stop, handleStop);\n    };\n\n    var handleDown = function handleDown(e) {\n      e.stopPropagation();\n      e.preventDefault();\n      handleStart(e, events.mouse);\n    };\n\n    var handleTouchDown = function handleTouchDown(e) {\n      e.stopPropagation();\n      e.preventDefault();\n      handleStart(e, events.touch);\n    };\n\n    var handleClick = function handleClick(e) {\n      e.stopPropagation();\n      e.preventDefault();\n    };\n\n    return function () {\n      var prefixCls = props.prefixCls;\n\n      var touchEvents = _defineProperty({}, supportsPassive ? 'onTouchstartPassive' : 'onTouchstart', function (e) {\n        return handleTouchDown(e);\n      });\n\n      return _createVNode(\"div\", _objectSpread(_objectSpread({\n        \"class\": \"\".concat(prefixCls, \"-resize-handle \").concat(dragging.value ? 'dragging' : ''),\n        \"onMousedown\": handleDown\n      }, touchEvents), {}, {\n        \"onClick\": handleClick\n      }), [_createVNode(\"div\", {\n        \"class\": \"\".concat(prefixCls, \"-resize-handle-line\")\n      }, null)]);\n    };\n  }\n});"],"mappings":"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"},"metadata":{},"sourceType":"module"}